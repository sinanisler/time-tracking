// Add this function after toggleTodoComplete (around line 898) and before deleteTodo

async updateTodo(todoId, text, startDate, endDate) {
	try {
		const formData = new FormData();
		formData.append('action', 'tt_update_todo');
		formData.append('nonce', ttCalendarData.nonce);
		formData.append('todo_id', todoId);
		formData.append('updates', JSON.stringify({ 
			text: text,
			start_date: startDate,
			end_date: endDate
		}));

		const response = await fetch(ttCalendarData.ajaxUrl, {
			method: 'POST',
			body: formData
		});

		const data = await response.json();
		if (data.success) {
			await this.loadTodos();
			window.showNotification('TO-DO updated successfully!', 'success');
			this.$nextTick(() => {
				this.initTodoSortable();
			});
		} else {
			window.showNotification('Error updating TO-DO', 'error');
		}
	} catch (error) {
		window.showNotification('Error updating TO-DO: ' + error.message, 'error');
	}
},
